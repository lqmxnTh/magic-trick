<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magic Trick</title>
    <style>
      .component {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90vh;
        flex-direction: column;
      }
      .upper {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      .lower {
        margin-top: 5%;
        width: 250px;
        height: 120px;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
      }
      button {
        width: 60px;
        height: 35px;
        background-color: pink;
        border: 1px solid black;
        border-radius: 5px;
        transition: background-color 0.3s ease;
        cursor: pointer;
      }
      button:hover {
        background-color: lightblue;
      }
      .component2 {
        display: none; /* hidden at first */
        justify-content: center;
        align-items: center;
        height: 90vh;
        flex-direction: column;
        position: relative;
        overflow: hidden; /* keep floating hearts inside */
      }
      /* Floating animation */
      .float {
        position: absolute;
        font-size: 24px;
        animation: rise 3s linear forwards;
        pointer-events: none;
      }
      @keyframes rise {
        0% {
          opacity: 1;
          transform: translateY(0) scale(2);
        }
        100% {
          opacity: 0;
          transform: translateY(-200px) scale(1.5);
        }
      }
    </style>
  </head>
  <body>
    <div class="component">
      <div class="upper">
        <h3>Want to See a Magic Trick</h3>
        <img
          width="120px"
          src="https://media.tenor.com/S645IJTRa8gAAAAj/halloween-pusheen.gif"
        />
      </div>
      <div class="lower">
        <button id="yes">Yes</button>
        <button id="no">No</button>
      </div>
    </div>
    <div class="component2">
      <h2>Bipity Bopity My Heart is Your Property</h2>
      <img
        src="https://media.tenor.com/CNJSyzMIkskAAAAi/bubu-dudu-sseeyall.gif"
      />
    </div>

    <script>
      const noButton = document.getElementById("no");
      const yesButton = document.getElementById("yes");
      const component1 = document.querySelector(".component");
      const component2 = document.querySelector(".component2");
      const lower = document.querySelector(".lower");

      let activated = false;

      // No button random movement
      noButton.addEventListener("click", () => {
        if (!activated) {
          noButton.style.position = "absolute";
          activated = true;
        }

        const containerWidth = lower.clientWidth - noButton.offsetWidth;
        const containerHeight = lower.clientHeight - noButton.offsetHeight;

        const randomX = Math.floor(Math.random() * containerWidth);
        const randomY = Math.floor(Math.random() * containerHeight);

        noButton.style.left = randomX + "px";
        noButton.style.top = randomY + "px";
      });

      // Yes button hides component1 and shows component2
      yesButton.addEventListener("click", () => {
        component1.style.display = "none";
        component2.style.display = "flex";

        // Generate floating hearts/flowers
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            createFloatingEmoji();
          }, i * 200); // staggered for effect
        }
      });

      function createFloatingEmoji() {
        const emojis = ["❤️", "💖", "🌸", "💐", "💕", "🌷"];
        const emoji = document.createElement("span");
        emoji.classList.add("float");
        emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];

        // random start position inside component2
        const maxWidth = component2.clientWidth - 30;
        const startX = Math.random() * maxWidth;

        emoji.style.left = startX + "px";
        emoji.style.bottom = "0";

        component2.appendChild(emoji);

        // remove after animation
        setTimeout(() => {
          emoji.remove();
        }, 10000);
      }

      // call this when Yes is clicked
      yesButton.addEventListener("click", () => {
        component1.style.display = "none";
        component2.style.display = "flex";

        // keep spawning emojis forever
        setInterval(createFloatingEmoji, 500); // one every 0.5s
      });
    </script>
  </body>
</html>
